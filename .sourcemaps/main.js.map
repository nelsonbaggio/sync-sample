{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src/pages/edit/edit.ts","../../src lazy","../../src/pages/list/list.ts","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/util/util.ts","../../src/models/customer.model.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 123;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 123\n// module chunks = 0","import { ThfSyncService } from '@totvs/thf-sync';\nimport { Customer } from './../../models/customer.model';\nimport { Http, HttpModule } from '@angular/http';\nimport { Component } from '@angular/core';\nimport { NavController, NavParams, AlertController, ViewController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-edit',\n  templateUrl: 'edit.html',\n  providers: [Http, HttpModule]\n})\nexport class EditPage {\n  customer: Customer = new Customer();\n  title: string = '';\n  constructor(public viewCtrl: ViewController, public navCtrl: NavController, public navParams: NavParams, public thfSync: ThfSyncService, public alertCtrl: AlertController) {\n    if (navParams.get('customer')) {\n      this.title = \"Edição\";\n      this.customer = navParams.get('customer') as Customer;\n    } else {\n      this.title = \"Inclusão\";\n    }\n  }\n\n  save() {\n    const model = this.thfSync.getModel(\"Customers\");\n\n    model.save(this.customer)\n      .then(() => {\n        this.showAlert('Dados salvos com sucesso!');\n      });\n  }\n\n  delete() {\n    this.showConfirm();\n  }\n\n\n  showConfirm() {\n    var that = this;\n    const model = this.thfSync.getModel(\"Customers\");\n    let confirm = this.alertCtrl.create({\n      title: 'Exclusão',\n      message: 'Tem certeza que deseja excluir?',\n      buttons: [\n        {\n          text: 'Não',\n          handler: () => {\n            // console.log('Disagree clicked');\n          }\n        },\n        {\n          text: 'Sim',\n          handler: () => {\n            model.remove(that.customer)\n              .then(\n              (res) => {\n                that.showAlert('Excluído com sucesso!');\n              },\n              (err) => {\n                that.showErrorAlert(err);\n              })\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n\n  showAlert(msg) {\n    let alert = this.alertCtrl.create({\n      title: 'Sucesso!',\n      subTitle: msg,\n      buttons: ['OK']\n    });\n    alert.present().then(\n      (res) => {\n        this.viewCtrl.dismiss();\n      }\n    )\n  }\n\n  showErrorAlert(msg) {\n    let alert = this.alertCtrl.create({\n      title: 'Erro',\n      subTitle: 'Erro: ' + msg,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit/edit.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 176;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 176\n// module chunks = 0","// import { THFStorageService } from '@totvs/thf-mobile/app/services/thf-storage/thf-storage.service';\nimport { Network } from '@ionic-native/network';\nimport { ThfSyncService } from '@totvs/thf-sync';\nimport { Customer } from './../../models/customer.model';\nimport { EditPage } from './../edit/edit';\nimport { Http } from '@angular/http';\nimport { Component } from '@angular/core';\nimport { NavController, NavParams, AlertController, ToastController } from 'ionic-angular';\nimport { ThfSchema } from '@totvs/thf-sync';\nimport { ThfSyncConfig } from '@totvs/thf-sync/models/thf-sync-config.model';\nimport { ThfNetworkType } from '@totvs/thf-sync/enums/thf-network-type.enum';\n\n@Component({\n  selector: 'page-list',\n  templateUrl: 'list.html',\n  providers: [Network]\n})\nexport class ListPage {\n  icons: string[];\n  customers: Customer[];\n  hasNext: boolean;\n  currentPage: number;\n  // eventSourcing: THFEventSourcing;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public alertCtrl: AlertController, private toastCtrl: ToastController, private thfSync: ThfSyncService, private network: Network, private _http: Http) {\n    this.currentPage = 1;\n    this.hasNext = false;\n    // let disconnectSubscription = this.network.onDisconnect().subscribe(() => {\n    //   console.log('network was disconnected :-(');\n    // });\n\n    // this.eventSourcing = new THFEventSourcing(this.thfStorage, this._http);\n\n    // let connectSubscription = this.network.onConnect().subscribe(() => {\n    //   console.log('network connected!');\n    //   // We just got a connection but we need to wait briefly\n    //   // before we determine the connection type. Might need to wait.\n    //   // prior to doing any api requests as well.\n    //   // setTimeout(() => {\n    //   //   if (this.network.type === 'wifi') {\n    //   //     console.log('we got a wifi connection, woohoo!');\n    //   //   }\n    //   // }, 3000);\n    // });\n\n\n  }\n\n  mapSchemas(): Promise<any> {\n    let customerSchema = new ThfSchema({\n      getUrlApi: 'http://thfservices.totvs.com.br/customer-api/api/v1/customers',\n      diffUrlApi: 'http://thfservices.totvs.com.br/customer-api/api/v1/customers/diff',\n      name: 'Customers',\n      fields: [\n        'id', 'name'\n      ],\n      pageSize: 20,\n      deletedField: 'deleted',\n      idField: 'id'\n    });\n\n    // let userSchema = new THFModelSchema({\n    //   getUrlApi: 'http://10.172.45.159:8200/api/v1/users',\n    //   diffUrlApi: 'http://10.172.45.159:8200/api/v1/users/diff',\n    //   name: 'Users',\n    //   fields: [\n    //     'id', 'name', 'login'\n    //   ],\n    //   pageSize: 20,\n    //   deletedField: 'deleted',\n    //   idField: 'id'\n    // });\n\n    return this.thfSync.prepare([customerSchema], new ThfSyncConfig(ThfNetworkType._ethernet, 10))\n      .then(() => {\n        console.log(\"Schemas mapped\");\n      });\n  }\n\n  ionViewDidEnter() {\n    this.mapSchemas()\n      .then(() => {\n        // this.thfSync.loadData()\n        // .subscribe((res) => {\n        //   console.log(\"Retorno subscribe\");\n        //   res.forEach(\n        //     (el) => {\n        //       console.log('Entity: ' + el.entity + ' (' + el.data.length + ' loaded)');\n        //     }\n        //   )\n        //   this.getData();\n        // });\n        this.getData();\n      });\n      this.thfSync.onSync().subscribe(() => {\n        this.getData();\n      });\n  }\n\n  itemTapped(event, customer) {\n    this.navCtrl.push(EditPage, {\n      customer: customer\n    });\n  }\n\n  getData() {\n    this.thfSync.getModel('Customers').find()\n      .page(this.currentPage)\n      .sort(\"name\")\n      .pageSize(10)\n      // .select(\"id name\")\n      .exec()\n      .then((data) => {\n        this.customers = data.items;\n        this.hasNext = data.hasNext;\n      });\n\n    // const thfQueue = new THFQueue(\"my_queue\", this.thfStorage);\n    // // thfQueue.enqueue({ campo1: '3', campo2: '4' }).then(\n    // //   () => {\n    // //     console.log(\"Item enfileirado\");\n    // //   });\n    // thfQueue.dequeue()\n    // .then((item) => {\n    //     console.log('Desenfileirado: ', item);\n    // });\n  }\n\n  newCustomer() {\n    this.navCtrl.push(EditPage, {});\n  }\n\n  nextPage() {\n    this.currentPage++;\n    this.getData();\n  }\n\n  prevPage() {\n    this.currentPage--;\n    this.getData();\n  }\n\n  sync() {\n    console.log(\"Syncing\");\n    this.thfSync.sync()\n    .then(() => {\n      this.getData();\n      console.log(\"Synced\");\n      let toast = this.toastCtrl.create({\n        message: 'Data synced',\n        duration: 2000,\n        position: 'bottom'\n      });\n      toast.present();\n    })\n    .catch((err) => {\n      console.log(\"Error on sync: \", err);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","import { ThfSyncService } from '@totvs/thf-sync';\nimport { ThfSchema } from '@totvs/thf-sync';\nimport { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  constructor(public navCtrl: NavController, private thfSync: ThfSyncService) {\n    this.buildSchemas();\n  }\n\n  buildSchemas() {\n    let customerSchema = new ThfSchema({\n      getUrlApi: 'http://localhost:8200/api/v1/customers',\n      diffUrlApi: 'http://localhost:8200/api/v1/customers/diff',\n      name: 'Customers',\n      idField: 'id',\n      fields: [\n        'id', 'name'\n      ],\n      pageSize: 20,\n      deletedField: 'deleted',\n\n    });\n\n    let userSchema = new ThfSchema({\n      getUrlApi: 'http://localhost:8200/api/v1/users',\n      diffUrlApi: 'http://localhost:8200/api/v1/users/diff',\n      name: 'Users',\n      idField: 'id',\n      fields: [\n        'id', 'name', 'login'\n      ],\n      pageSize: 20,\n      deletedField: 'deleted',\n    });\n\n    this.thfSync.prepare([customerSchema, userSchema])\n      .then(() => {\n        console.log(\"Schemas ready\");\n        // this.thfSync.loadData()\n        //   .subscribe((res) => {\n        //     console.log(\"Retorno subscribe\");\n        //     res.forEach(\n        //       (el) => {\n        //         console.log('Entity: ' + el.entity + ' (' + el.data.length + ' loaded)');\n        //       }\n        //     )\n        //   });\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { ThfSyncService, ThfSyncModule } from '@totvs/thf-sync';\nimport { Util } from './../providers/util/util';\n// import { SyncQueue } from './../providers/sync_queue/sync_queue';\nimport { EditPage } from './../pages/edit/edit';\nimport { HttpModule } from '@angular/http';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\n// import { ConnectionBackend } from '@angular/http';\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { IonicStorageModule } from '@ionic/storage';\n// import { THFStorageService } from '@totvs/thf-mobile/app/services/thf-storage/thf-storage.service';\n// import { THFEventSourcingService } from '@totvs/thf-mobile/app/services/thf-event-sourcing/thf-event-sourcing.service';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    ListPage,\n    EditPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicStorageModule.forRoot(),\n    IonicModule.forRoot(MyApp),\n    ThfSyncModule,\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    ListPage,\n    EditPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    // SyncQueue,\n    // THFStorageService,\n    Util,\n    // RequestProvider,\n    // THFSyncService,\n    // THFEventSourcingService\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\nimport { Md5 } from 'ts-md5/dist/md5'\n\n@Injectable()\nexport class Util {\n  \n  constructor() {\n  }\n\n  getHashFromUrl(url: string): string {\n    return Md5.hashStr(url).toString();\n  }\n  \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/util/util.ts","export class Customer  {\n    id: string;\n    name: string;\n    address: string;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/customer.model.ts","import { ListPage } from './../pages/list/list';\nimport { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport { HomePage } from '../pages/home/home';\nimport { Http } from '@angular/http';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = ListPage;\n\n  pages: Array<{ title: string, component: any }>;\n\n  constructor(public http: Http, public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen) {\n    this.initializeApp();\n\n    // used for an example of ngFor and navigation\n    this.pages = [\n      { title: 'Home', component: HomePage },\n      { title: 'Clientes', component: ListPage }\n    ];\n\n  }\n\n  // exec(that) {\n  //   that.syncQueue.count()\n  //     .then((count) => {\n  //       if (count > 0) {\n  //         console.log(\"Count: \" + count);\n  //         that.syncQueue.getFirst()\n  //           .then((item) => {\n  //             console.log(\"Sending \", item);\n  //             that.http.post(AppConstants.API_URL + AppConstants.CUSTOMER_API, item.body)\n  //               .subscribe(() => {\n  //                 console.log(\"Sent \", item);\n  //                 that.syncQueue.remove(item.id)\n  //                   .then(() => {\n  //                     if (count > 1)\n  //                       that.exec(that);\n  //                     else\n  //                       setTimeout(that.exec, 5000, that);\n  //                   })\n  //               },\n  //               (err) => {\n  //                 console.log(\"Erro no item: \", item);\n  //                 setTimeout(that.exec, 5000, that);\n  //               });\n  //           });\n  //       } else {\n  //         setTimeout(that.exec, 5000, that);\n  //       }\n  //     })\n  // }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n      // setTimeout(this.exec, 5000, this);\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}